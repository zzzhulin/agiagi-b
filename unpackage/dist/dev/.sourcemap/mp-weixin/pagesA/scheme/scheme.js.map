{"version":3,"sources":["webpack:////Users/zhulin/Documents/HBuilderProjects/B端小程序/pagesA/scheme/scheme.vue?24cb","webpack:////Users/zhulin/Documents/HBuilderProjects/B端小程序/pagesA/scheme/scheme.vue?f241","webpack:////Users/zhulin/Documents/HBuilderProjects/B端小程序/pagesA/scheme/scheme.vue?3e8f","uni-app:///pagesA/scheme/scheme.vue","webpack:////Users/zhulin/Documents/HBuilderProjects/B端小程序/pagesA/scheme/scheme.vue?296f","webpack:////Users/zhulin/Documents/HBuilderProjects/B端小程序/pagesA/scheme/scheme.vue?c8dc","uni-app:///main.js",null],"names":["data","navbarBgColor","rows","rowsMap","breakfast","lunch","snack","dinner","morning","family_member_id","member_id","member_index","family_members","relationship","headimg","member_name","disease_name","scheme_name","scheme_id","diet_scheme_customized","recipe_data","recipe_content","is_draft","speechResult","isLoading","isEmpty","onLoad","onShow","onPageScroll","computed","methods","openPopup","setText","mergedQuantities","selectMember","updateHomepage","url","method","success","navigateTo","uni","onAnalysis","title","mask","complete","onPush","user_id","diet_scheme_id","setTimeout","icon","duration","tuneRecipe","text_string","generateRecipe","getCustomer","getDiseaseHistory","getScheme","getCookbook","wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,kOAEN;AACP,KAAK;AACL;AACA,aAAa,wOAEN;AACP,KAAK;AACL;AACA,aAAa,sNAEN;AACP,KAAK;AACL;AACA,aAAa,0PAEN;AACP,KAAK;AACL;AACA,aAAa,kOAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACtFA;AAAA;AAAA;AAAA;AAAo0B,CAAgB,oyBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;AC4Gx1B;AACA;AAAA;AAAA;AAAA,eACA;EACAA;IACA;MACAC;MACAC;MACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;QACAC;QACAC;MACA;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACA;EACA;EACAC;IACA;IACA;MACA;MACA;IACA;MACA;IAAA;EAEA;EACAC;IACA;MACA;IACA;MACA;IACA;EACA;EACAC,4BACA,oCACA;EACAC,yCACA;IACAC;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MAAA;MACA;QAAA;MAAA;IACA;IACAC;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA;IACAC;MAAA;MACA;QACAC;QACAC;QACAC;UACA;YACA;YACA;YACA;UACA;QACA;MACA;IACA;IACAC;MACAC;QACAJ;MACA;IACA;IACAK;MAAA;MACAD;QACAE;QACAC;MACA;MACA;QACAP;QACAC;QACArC;UACAU;UACAU;QACA;QACAkB;UACA;YACA;YACA;UACA;QACA;QACAM;UACAJ;QACA;MACA;IACA;IACAK;MAAA;MACAL;QACAE;QACAC;MACA;MACA;QACAP;QACAC;QACArC;UACA8C;UACApC;UACAqC;UACA3B;QACA;QACAkB;UACA;YACAU;cACAR;gBACAE;gBACAO;gBACAC;cACA;YACA;YACA;UACA;QACA;QACAN;UACAJ;QACA;MACA;IACA;IACAW;MAAA;MACAX;QACAE;QACAC;MACA;MACA;QACAP;QACAC;QACArC;UACAoB;UACAgC;QACA;QACAd;UACA;YACA;UACA;QACA;QACAM;UACAJ;QACA;MACA;IACA;IACAa;MAAA;MACAb;QACAE;QACAC;MACA;MACA;QACAP;QACAC;QACArC;UACA8C;UACApC;UACAqC;UACA5B;QACA;QACAmB;UACA;YACA;UACA;QACA;QACAM;UACAJ;QACA;MACA;IACA;IACAc;MAAA;MACA;QACAlB;QACAE;UACA;YACA;YACA;cAAA;YAAA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;UACA;QACA;MACA;IACA;IACAiB;MAAA;MACA;QACAnB;QACApC;UACAS;QACA;QACA6B;UACA;YACA;cAAA;YAAA;UACA;QACA;MACA;IACA;IACAkB;MAAA;MACA;QACApB;QACApC;UACA8C;UACApC;QACA;QACA4B;UACA;YACA;YACA;YACA;UACA;YACA;UACA;QACA;MACA;IACA;IACAmB;MAAA;MACA;QACArB;QACAC;QACArC;UACA8C;UACApC;QACA;QACA4B;UACA;YACA;YACA;UACA;YACA;UACA;QACA;MACA;IACA;EAAA;AAEA;AAAA,2B;;;;;;;;;;;;;ACvXA;AAAA;AAAA;AAAA;AAAmiD,CAAgB,m6CAAG,EAAC,C;;;;;;;;;;;ACAvjD;AACA,OAAO,KAAU,EAAE,kBAKd;;;;;;;;;;;;;;;;ACNL;AAGA;AACA;AAHA;AACAoB,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,eAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAmH;AACnH;AAC0D;AACL;AACc;;;AAGnE;AACgN;AAChN,gBAAgB,iNAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,iFAAM;AACR,EAAE,0FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,qFAAU;AACZ;AACA;;AAEA;AACe,gF","file":"pagesA/scheme/scheme.js","sourcesContent":["export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./scheme.vue?vue&type=template&id=b83d5c6a&\"","var components\ntry {\n  components = {\n    Navbar: function () {\n      return import(\n        /* webpackChunkName: \"components/Navbar/Navbar\" */ \"@/components/Navbar/Navbar.vue\"\n      )\n    },\n    Flexbox: function () {\n      return import(\n        /* webpackChunkName: \"components/Flexbox/Flexbox\" */ \"@/components/Flexbox/Flexbox.vue\"\n      )\n    },\n    Icon: function () {\n      return import(\n        /* webpackChunkName: \"components/Icon/Icon\" */ \"@/components/Icon/Icon.vue\"\n      )\n    },\n    Typography: function () {\n      return import(\n        /* webpackChunkName: \"components/Typography/Typography\" */ \"@/components/Typography/Typography.vue\"\n      )\n    },\n    Speech: function () {\n      return import(\n        /* webpackChunkName: \"components/Speech/Speech\" */ \"@/components/Speech/Speech.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.scheme_name\n    ? _vm.recipe_data.recipe_content.length && !_vm.isLoading\n    : null\n  var l1 =\n    _vm.scheme_name && g0\n      ? _vm.__map(_vm.recipe_data.recipe_content, function (day, index) {\n          var $orig = _vm.__get_orig(day)\n          var l0 = _vm.__map(_vm.rows, function (row, __i0__) {\n            var $orig = _vm.__get_orig(row)\n            var g1 = _vm.mergedQuantities(day[row] || []).join(\"\\n\")\n            return {\n              $orig: $orig,\n              g1: g1,\n            }\n          })\n          return {\n            $orig: $orig,\n            l0: l0,\n          }\n        })\n      : null\n  var g2 =\n    _vm.recipe_data.recipe_content.length && !_vm.isEmpty && !_vm.isLoading\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        l1: l1,\n        g2: g2,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./scheme.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./scheme.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"scheme-page\">\n\t\t<Navbar title=\"膳食方案\" :backgroundColor=\"navbarBgColor\"></Navbar>\n\t\t<picker :value=\"member_index\" :range=\"family_members\" range-key=\"name\" @change=\"selectMember\">\n\t\t\t<Flexbox gap=\"20\" className=\"user-content\">\n\t\t\t\t<Flexbox align=\"left\" gap=\"12\" className=\"user-info\">\n\t\t\t\t\t<Icon :src=\"headimg\" size=\"48\" type=\"remote\" :circle=\"true\" className=\"user-avatar\"></Icon>\n\t\t\t\t\t<Flexbox direction=\"column\" gap=\"4\">\n\t\t\t\t\t\t<Typography fontSize=\"18\" :bold=\"true\">{{ member_name }}（{{ relationship }}）</Typography>\n\t\t\t\t\t\t<Typography color=\"gray1\">{{ disease_name || '暂无疾病信息' }}</Typography>\n\t\t\t\t\t</Flexbox>\n\t\t\t\t</Flexbox>\n\t\t\t\t<Icon src=\"b_arrow-down.png\" size=\"24\"></Icon>\n\t\t\t</Flexbox>\n\t\t</picker>\n\t\t<Flexbox direction=\"column\" gap=\"24\" className=\"scheme-container\" v-if=\"scheme_name\">\n\t\t\t<Flexbox direction=\"column\" gap=\"12\">\n\t\t\t\t<Flexbox align=\"justify\">\n\t\t\t\t\t<Typography fontSize=\"22\" color=\"primary\" :bold=\"true\">{{ scheme_name }}</Typography>\n\t\t\t\t\t<Flexbox align=\"center\" @tap=\"navigateTo(`/pagesA/scheme/list?id=${member_id}&memberId=${family_member_id}`)\">\n\t\t\t\t\t\t<Icon src=\"b_toggle-gray.png\" size=\"20\"></Icon>\n\t\t\t\t\t\t<Typography color=\"gray1\">更换方案</Typography>\n\t\t\t\t\t</Flexbox>\n\t\t\t\t</Flexbox>\n\t\t\t\t<Flexbox direction=\"column\" className=\"form-input\">\n\t\t\t\t\t<textarea\n\t\t\t\t\t\tv-model=\"diet_scheme_customized\"\n\t\t\t\t\t\t:auto-height=\"true\"\n\t\t\t\t\t\tplaceholder=\"输入你的需求，AI将在已选方案基础上进行策略调整...\"\n\t\t\t\t\t\tplaceholder-class=\"placeholder\"\n\t\t\t\t\t></textarea>\n\t\t\t\t\t<Flexbox align=\"center\" className=\"confirm-btn\" @tap=\"generateRecipe\">\n\t\t\t\t\t\t<Typography color=\"white\" :bold=\"true\">生成食谱</Typography>\n\t\t\t\t\t</Flexbox>\n\t\t\t\t</Flexbox>\n\t\t\t</Flexbox>\n\t\t\t<block v-if=\"recipe_data.recipe_content.length && !isLoading\">\n\t\t\t\t<Flexbox align=\"justify\">\n\t\t\t\t\t<Typography fontSize=\"22\" :bold=\"true\">生成的食谱</Typography>\n\t\t\t\t\t<Flexbox gap=\"8\">\n\t\t\t\t\t\t<Flexbox align=\"center\" gap=\"2\" @tap=\"onAnalysis\">\n\t\t\t\t\t\t\t<Icon src=\"b_leaf.png\" size=\"20\"></Icon>\n\t\t\t\t\t\t\t<Typography color=\"gray1\">营养分析</Typography>\n\t\t\t\t\t\t</Flexbox>\n\t\t\t\t\t\t<Flexbox align=\"center\" gap=\"2\" @tap=\"navigateTo(`/pagesA/cookbook/cookbook?id=${member_id}&memberId=${family_member_id}`)\">\n\t\t\t\t\t\t\t<Icon src=\"b_file.png\" size=\"20\"></Icon>\n\t\t\t\t\t\t\t<Typography color=\"gray1\">历史食谱</Typography>\n\t\t\t\t\t\t</Flexbox>\n\t\t\t\t\t</Flexbox>\n\t\t\t\t</Flexbox>\n\t\t\t\t<Flexbox direction=\"column\" gap=\"16\">\n\t\t\t\t\t<Flexbox direction=\"column\" gap=\"12\" v-for=\"(day, index) in recipe_data.recipe_content\" :key=\"index\">\n\t\t\t\t\t\t<Typography fontSize=\"16\" :bold=\"true\">第{{ index + 1 }}天</Typography>\n\t\t\t\t\t\t<Flexbox direction=\"column\" className=\"table\">\n\t\t\t\t\t\t\t<Flexbox className=\"tr\" v-for=\"row in rows\" :key=\"row\">\n\t\t\t\t\t\t\t\t<Flexbox align=\"center\" className=\"td\">\n\t\t\t\t\t\t\t\t\t<Typography color=\"gray2\">{{ rowsMap[row] }}</Typography>\n\t\t\t\t\t\t\t\t</Flexbox>\n\t\t\t\t\t\t\t\t<Flexbox align=\"left\" className=\"td\">\n\t\t\t\t\t\t\t\t\t<Typography className=\"meal-text\">{{ mergedQuantities(day[row] || []).join('\\n') }}</Typography>\n\t\t\t\t\t\t\t\t</Flexbox>\n\t\t\t\t\t\t\t</Flexbox>\n\t\t\t\t\t\t</Flexbox>\n\t\t\t\t\t</Flexbox>\n\t\t\t\t</Flexbox>\n\t\t\t</block>\n\t\t</Flexbox>\n\n\t\t<Flexbox align=\"center\" direction=\"column\" gap=\"30\" className=\"empty-content\" v-if=\"isLoading\">\n\t\t\t<Flexbox align=\"center\" direction=\"column\">\n\t\t\t\t<Typography color=\"primary\">暂无食谱数据，</Typography>\n\t\t\t\t<Typography color=\"primary\">请为客户制定生成</Typography>\n\t\t\t</Flexbox>\n\t\t\t<!-- <Flexbox align=\"center\" className=\"refresh-btn\" @tap=\"getCookbook\">\n\t\t\t\t<Typography fontSize=\"16\" color=\"primary\">刷新</Typography>\n\t\t\t</Flexbox> -->\n\t\t</Flexbox>\n\n\t\t<Flexbox direction=\"column\" align=\"center\" className=\"empty-scheme\" v-if=\"isEmpty\">\n\t\t\t<Icon src=\"b_empty-result.png\" size=\"128\"></Icon>\n\t\t\t<Flexbox direction=\"column\" align=\"center\" gap=\"12\">\n\t\t\t\t<Flexbox direction=\"column\" align=\"center\">\n\t\t\t\t\t<Typography color=\"gray2\">该成员还没有制定</Typography>\n\t\t\t\t\t<Typography color=\"gray2\">膳食方案</Typography>\n\t\t\t\t</Flexbox>\n\t\t\t\t<Flexbox align=\"center\" className=\"select-btn\" @tap=\"navigateTo(`/pagesA/scheme/list?id=${member_id}&memberId=${family_member_id}`)\">\n\t\t\t\t\t<Typography fontSize=\"16\" color=\"white\" :bold=\"true\">选择方案</Typography>\n\t\t\t\t</Flexbox>\n\t\t\t</Flexbox>\n\t\t</Flexbox>\n\n\t\t<Flexbox gap=\"9\" className=\"tabbar-content\" v-if=\"recipe_data.recipe_content.length && !isEmpty && !isLoading\">\n\t\t\t<Flexbox align=\"center\" gap=\"4\" className=\"adjust-btn\" @tap=\"openPopup('speechPopup')\">\n\t\t\t\t<Icon src=\"b_microphone-primary.png\" size=\"24\"></Icon>\n\t\t\t\t<Typography fontSize=\"18\" color=\"primary\">调整食谱</Typography>\n\t\t\t</Flexbox>\n\t\t\t<Flexbox align=\"center\" className=\"push-btn\" v-if=\"recipe_data.is_draft\" @tap=\"onPush\">\n\t\t\t\t<Typography fontSize=\"18\" color=\"white\" :bold=\"true\">直接推送</Typography>\n\t\t\t</Flexbox>\n\t\t\t<Flexbox align=\"center\" className=\"push-btn pushed\" v-else>\n\t\t\t\t<Typography fontSize=\"18\" color=\"white\" :bold=\"true\">已推送</Typography>\n\t\t\t</Flexbox>\n\t\t</Flexbox>\n\t\t<Speech ref=\"speechPopup\" @confirm=\"setText\"></Speech>\n\t</view>\n</template>\n\n<script>\nimport { mapState, mapMutations } from 'vuex';\nimport { request } from '@/utils/request';\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tnavbarBgColor: 'transparent',\n\t\t\trows: ['breakfast', 'lunch', 'snack', 'dinner', 'morning'],\n\t\t\trowsMap: {\n\t\t\t\tbreakfast: '早餐',\n\t\t\t\tlunch: '午餐',\n\t\t\t\tsnack: '加餐',\n\t\t\t\tdinner: '晚餐',\n\t\t\t\tmorning: '药食同源'\n\t\t\t},\n\t\t\tfamily_member_id: '',\n\t\t\tmember_id: '',\n\t\t\tmember_index: '',\n\t\t\tfamily_members: [],\n\t\t\trelationship: '',\n\t\t\theadimg: '',\n\t\t\tmember_name: '',\n\t\t\tdisease_name: '',\n\t\t\tscheme_name: '',\n\t\t\tscheme_id: '',\n\t\t\tdiet_scheme_customized: '',\n\t\t\trecipe_data: {\n\t\t\t\trecipe_content: [],\n\t\t\t\tis_draft: true\n\t\t\t},\n\t\t\tspeechResult: '',\n\t\t\tisLoading: false,\n\t\t\tisEmpty: false\n\t\t};\n\t},\n\tonLoad(option) {\n\t\tthis.member_id = parseInt(option.id);\n\t},\n\tonShow() {\n\t\tthis.getCustomer();\n\t\tif (this.recipeData) {\n\t\t\tthis.recipe_data = this.recipeData;\n\t\t\t// this.isLoading = false;\n\t\t} else {\n\t\t\t// this.isLoading = true;\n\t\t}\n\t},\n\tonPageScroll(e) {\n\t\tif (e.scrollTop >= 50) {\n\t\t\tthis.navbarBgColor = '#ffffff';\n\t\t} else {\n\t\t\tthis.navbarBgColor = 'transparent';\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapState(['recipeData'])\n\t},\n\tmethods: {\n\t\t...mapMutations(['setNutritionData', 'setRecipeData']),\n\t\topenPopup(ref) {\n\t\t\tthis.$refs[ref].open();\n\t\t},\n\t\tsetText(text) {\n\t\t\tthis.speechResult += text;\n\t\t\tthis.tuneRecipe();\n\t\t},\n\t\tmergedQuantities(meal) {\n\t\t\treturn [].concat(...meal.map((dish) => dish.name + '(' + dish.quantity + ')'));\n\t\t},\n\t\tselectMember(e) {\n\t\t\tthis.member_index = e.detail.value;\n\t\t\t// this.member_id = this.family_members[e.detail.value].member_id;\n\t\t\tthis.member_name = this.family_members[e.detail.value].name;\n\t\t\tthis.family_member_id = this.family_members[e.detail.value].id;\n\t\t\tthis.member_name = this.family_members[e.detail.value].name;\n\t\t\tthis.headimg = this.family_members[e.detail.value].user_headimg;\n\t\t\tthis.relationship = this.family_members[e.detail.value].relationship;\n\t\t\tthis.scheme_id = '';\n\t\t\tthis.scheme_name = '';\n\t\t\tthis.recipe_data.recipe_content = [];\n\t\t\tthis.updateHomepage();\n\t\t},\n\t\tupdateHomepage() {\n\t\t\trequest({\n\t\t\t\turl: `/api/health-service/user-member-record/update_homepage?member_id=${this.family_member_id}`,\n\t\t\t\tmethod: 'POST',\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tif (res) {\n\t\t\t\t\t\tthis.getDiseaseHistory();\n\t\t\t\t\t\tthis.getScheme();\n\t\t\t\t\t\tthis.getCookbook();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tnavigateTo(url) {\n\t\t\tuni.navigateTo({\n\t\t\t\turl\n\t\t\t});\n\t\t},\n\t\tonAnalysis() {\n\t\t\tuni.showLoading({\n\t\t\t\ttitle: '正在分析...',\n\t\t\t\tmask: true\n\t\t\t});\n\t\t\trequest({\n\t\t\t\turl: '/api/health-service/diet-scheme/analyze_recipe_nutrition',\n\t\t\t\tmethod: 'POST',\n\t\t\t\tdata: {\n\t\t\t\t\tmember_id: this.family_member_id,\n\t\t\t\t\trecipe_data: this.recipe_data.recipe_content\n\t\t\t\t},\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tif (res) {\n\t\t\t\t\t\tthis.setNutritionData(res);\n\t\t\t\t\t\tthis.navigateTo('/pagesA/scheme/nutrition');\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tcomplete: () => {\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tonPush() {\n\t\t\tuni.showLoading({\n\t\t\t\ttitle: '正在推送...',\n\t\t\t\tmask: true\n\t\t\t});\n\t\t\trequest({\n\t\t\t\turl: '/api/health-service/diet-scheme/save-recipe',\n\t\t\t\tmethod: 'POST',\n\t\t\t\tdata: {\n\t\t\t\t\tuser_id: this.member_id,\n\t\t\t\t\tmember_id: this.family_member_id,\n\t\t\t\t\tdiet_scheme_id: this.scheme_id,\n\t\t\t\t\trecipe_data: this.recipe_data\n\t\t\t\t},\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tif (res) {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: '推送成功',\n\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}, 100);\n\t\t\t\t\t\tthis.recipe_data = res;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tcomplete: () => {\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\ttuneRecipe() {\n\t\t\tuni.showLoading({\n\t\t\t\ttitle: '正在调整...',\n\t\t\t\tmask: true\n\t\t\t});\n\t\t\trequest({\n\t\t\t\turl: '/api/health-service/diet-scheme/tune-recipe',\n\t\t\t\tmethod: 'POST',\n\t\t\t\tdata: {\n\t\t\t\t\trecipe_data: this.recipe_data,\n\t\t\t\t\ttext_string: this.speechResult\n\t\t\t\t},\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tif (res) {\n\t\t\t\t\t\tthis.recipe_data = res;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tcomplete: () => {\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tgenerateRecipe() {\n\t\t\tuni.showLoading({\n\t\t\t\ttitle: '正在生成...',\n\t\t\t\tmask: true\n\t\t\t});\n\t\t\trequest({\n\t\t\t\turl: '/api/health-service/diet-scheme/generate-recipe',\n\t\t\t\tmethod: 'POST',\n\t\t\t\tdata: {\n\t\t\t\t\tuser_id: this.member_id,\n\t\t\t\t\tmember_id: this.family_member_id,\n\t\t\t\t\tdiet_scheme_id: this.scheme_id,\n\t\t\t\t\tdiet_scheme_customized: this.diet_scheme_customized\n\t\t\t\t},\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tif (res) {\n\t\t\t\t\t\tthis.getCookbook();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tcomplete: () => {\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tgetCustomer() {\n\t\t\trequest({\n\t\t\t\turl: `/api/customers/${this.member_id}`,\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tif (res) {\n\t\t\t\t\t\tthis.family_members = res.family_members;\n\t\t\t\t\t\tthis.member_index = res.family_members.findIndex((item) => item.id === res.family_member_id);\n\t\t\t\t\t\tthis.family_member_id = res.family_members[this.member_index].id;\n\t\t\t\t\t\tthis.member_name = res.family_members[this.member_index].name;\n\t\t\t\t\t\tthis.headimg = res.family_members[this.member_index].user_headimg;\n\t\t\t\t\t\tthis.relationship = res.family_members[this.member_index].relationship;\n\t\t\t\t\t\tthis.getDiseaseHistory();\n\t\t\t\t\t\tthis.getScheme();\n\t\t\t\t\t\tthis.getCookbook();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tgetDiseaseHistory() {\n\t\t\trequest({\n\t\t\t\turl: '/api/health-service/user-member-record/disease_history',\n\t\t\t\tdata: {\n\t\t\t\t\tfamily_member_id: this.family_member_id\n\t\t\t\t},\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tif (res) {\n\t\t\t\t\t\tthis.disease_name = res.map((item) => item.disease_name).join('、');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tgetScheme() {\n\t\t\trequest({\n\t\t\t\turl: '/api/health-service/diet-scheme/user-selected',\n\t\t\t\tdata: {\n\t\t\t\t\tuser_id: this.member_id,\n\t\t\t\t\tmember_id: this.family_member_id\n\t\t\t\t},\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tif (res) {\n\t\t\t\t\t\tthis.scheme_name = res.scheme_name;\n\t\t\t\t\t\tthis.scheme_id = res.id;\n\t\t\t\t\t\tthis.isEmpty = false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.isEmpty = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tgetCookbook() {\n\t\t\trequest({\n\t\t\t\turl: '/api/health-service/diet-scheme/get-user-recipe',\n\t\t\t\tmethod: 'POST',\n\t\t\t\tdata: {\n\t\t\t\t\tuser_id: this.member_id,\n\t\t\t\t\tmember_id: this.family_member_id\n\t\t\t\t},\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tif (res) {\n\t\t\t\t\t\tthis.recipe_data = res;\n\t\t\t\t\t\tthis.isLoading = false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.isLoading = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n};\n</script>\n\n<style lang=\"scss\">\n.scheme-page {\n\tmin-height: 100vh;\n\tbackground-color: $uni-bg-color;\n\tpadding-bottom: 202rpx;\n\n\t.user-content {\n\t\tpadding: 52rpx 32rpx 40rpx 32rpx;\n\t}\n\n\t.user-info {\n\t\tflex: 1;\n\t}\n\n\t.user-avatar {\n\t\tflex: none;\n\t}\n\n\t.scheme-container {\n\t\tbackground-color: #fff;\n\t\tborder-radius: 32rpx;\n\t\tpadding: 48rpx 32rpx;\n\t}\n\n\t.form-input {\n\t\tpadding: 24rpx 24rpx 14rpx 24rpx;\n\t\tbox-shadow: 0 0 0 2rpx $uni-border-color inset;\n\t\tborder-radius: 16rpx;\n\n\t\ttextarea {\n\t\t\twidth: 100%;\n\t\t\tmin-height: 144rpx;\n\t\t}\n\t}\n\n\t.confirm-btn {\n\t\twidth: 140rpx;\n\t\theight: 48rpx;\n\t\tborder-radius: 44rpx;\n\t\tmargin-left: auto;\n\t\tbackground-color: $uni-color-primary;\n\t}\n\n\t.table {\n\t\tborder: 2rpx solid $uni-border-color;\n\t\tborder-radius: 8rpx;\n\t\t.tr {\n\t\t\tborder-bottom: 2rpx solid $uni-border-color;\n\t\t\t&:last-child {\n\t\t\t\tborder-bottom: none;\n\t\t\t}\n\t\t}\n\t\t.td {\n\t\t\twidth: 526rpx;\n\t\t\tpadding: 16rpx 24rpx;\n\t\t\tborder-left: 2rpx solid $uni-border-color;\n\t\t\t&:first-child {\n\t\t\t\twidth: 162rpx;\n\t\t\t\tborder-left: none;\n\t\t\t}\n\t\t}\n\n\t\t.meal-text.text {\n\t\t\twhite-space: break-spaces;\n\t\t\tline-height: 44rpx;\n\t\t}\n\t}\n\n\t.tabbar-content {\n\t\tposition: fixed;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tbottom: 0;\n\t\tpadding: 16rpx 32rpx env(safe-area-inset-bottom) 32rpx;\n\t\tbackground-color: $uni-bg-color;\n\t}\n\n\t.adjust-btn,\n\t.push-btn {\n\t\twidth: 334rpx;\n\t\theight: 88rpx;\n\t\tborder-radius: 44rpx;\n\t}\n\n\t.adjust-btn {\n\t\tbox-shadow: 0 0 0 2rpx $uni-color-primary inset;\n\t}\n\n\t.push-btn {\n\t\tbackground-color: $uni-color-primary;\n\t}\n\n\t.push-btn.pushed {\n\t\tbackground-color: $uni-text-color-gray3;\n\t}\n\n\t.empty-content {\n\t\tmargin-top: 60rpx;\n\t}\n\n\t.refresh-btn {\n\t\twidth: 200rpx;\n\t\theight: 64rpx;\n\t\tborder-radius: 44rpx;\n\t\tbox-shadow: 0 0 0 2rpx $uni-color-primary inset;\n\t}\n\n\t.empty-scheme {\n\t\tmargin-top: 216rpx;\n\t}\n\n\t.select-btn {\n\t\twidth: 200rpx;\n\t\theight: 72rpx;\n\t\tbackground-color: $uni-color-primary;\n\t\tborder-radius: 44rpx;\n\t}\n}\n</style>\n","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./scheme.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./scheme.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1758878104039\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pagesA/scheme/scheme.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./scheme.vue?vue&type=template&id=b83d5c6a&\"\nvar renderjs\nimport script from \"./scheme.vue?vue&type=script&lang=js&\"\nexport * from \"./scheme.vue?vue&type=script&lang=js&\"\nimport style0 from \"./scheme.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pagesA/scheme/scheme.vue\"\nexport default component.exports"],"sourceRoot":""}